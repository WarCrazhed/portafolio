---
import Image from "astro/components/Image.astro";

// src/components/ProjectCard.astro

const { title, description, image, tags, repoUrl, liveUrl } = Astro.props;
---

<article
  class="bg-gray-50/20 dark:bg-gray-950/20 rounded-xl shadow-md transition-shadow duration-300 overflow-hidden flex flex-col h-full"
>
  <div class="flex gap-2 m-3">
    <span class="rounded-full w-3 h-3 bg-black/20 dark:bg-indigo-900/50"></span>
    <span class="rounded-full w-3 h-3 bg-black/20 dark:bg-indigo-900/50"></span>
    <span class="rounded-full w-3 h-3 bg-black/20 dark:bg-indigo-900/50"></span>
  </div>
  {
    image && (
      <Image
        src={image}
        alt={`Vista previa del proyecto ${title}`}
        class="w-full h-48 object-cover"
        loading="lazy"
        width={400}
        height={200}
      />
    )
  }
  <div class="p-6 flex flex-col flex-grow">
    <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-2">
      {title}
    </h3>
    <p class="text-gray-700 dark:text-gray-300 text-sm flex-grow mb-4">
      {description}
    </p>

    <div class="flex flex-wrap gap-3 mb-8">
      {
        tags.map((tag: any) => (
          <span class="text-xs py-1 px-3 border border-blue-500 bg-sky-100/50 dark:bg-sky-900/50 rounded-full font-medium shadow">
            {tag}
          </span>
        ))
      }
    </div>

    <div class="mt-auto flex gap-4 justify-between">
      {
        liveUrl && (
          <a
            href={liveUrl}
            target="_blank"
            class="font-bold text-white bg-lime-600 hover:bg-lime-700 flex items-center gap-2 px-3 rounded-xl py-2"
            aria-label={`Ver demo en vivo de ${title}`}
          >
            Demo en Vivo
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="size-5"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
              />
            </svg>
          </a>
        )
      }
      {
        repoUrl && (
          <a
            href={repoUrl}
            target="_blank"
            class="font-bold text-white bg-blue-600 hover:bg-blue-700 flex items-center gap-2 px-3 rounded-xl py-2"
            aria-label={`Ver cÃ³digo fuente en GitHub de ${title}`}
          >
            Repositorio
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              fill="currentColor"
              class="w-4 h-4"
            >
              <path d="M10 0C4.477 0 0 4.477 0 10c0 4.419 2.865 8.165 6.839 9.48.5.092.682-.217.682-.482 0-.237-.008-.865-.013-1.696-2.782.603-3.369-1.34-3.369-1.34-.454-1.152-1.107-1.455-1.107-1.455-.905-.623.068-.61.068-.61 1.002.07 1.53.98 1.53.98.89 1.528 2.345 1.087 2.912.83.091-.645.35-1.087.636-1.338-2.228-.252-4.568-1.114-4.568-4.945 0-1.09.39-1.983 1.03-2.682-.103-.252-.447-1.272.098-2.65 0 0 .84-.268 2.75 1.025.798-.222 1.64-.334 2.485-.338.844.004 1.686.116 2.485.338 1.91-1.293 2.75-1.025 2.75-1.025.545 1.378.202 2.398.098 2.65.64.699 1.03 1.592 1.03 2.682 0 3.84-2.345 4.69-4.578 4.945.358.307.676.915.676 1.848 0 1.335-.012 2.417-.012 2.747 0 .267.18.577.688.484C17.135 18.165 20 14.419 20 10c0-5.523-4.477-10-10-10Z" />
            </svg>
          </a>
        )
      }
    </div>
  </div>
</article>
