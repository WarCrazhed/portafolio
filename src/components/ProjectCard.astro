---
import Image from "astro/components/Image.astro";

// src/components/ProjectCard.astro

const { title, description, image, tags, repoUrl, liveUrl } = Astro.props;
---

<article
  class="bg-gray-50/20 dark:bg-gray-950/20 rounded-xl shadow-md transition-shadow duration-300 overflow-hidden flex flex-col h-full"
>
  {
    image && (
      <Image
        src={image}
        alt={`Vista previa del proyecto ${title}`}
        class="w-full h-48 object-cover"
        loading="lazy"
        width={400}
        height={200}
      />
    )
  }
  <div class="p-6 flex flex-col flex-grow">
    <h3 class="text-xl font-bold text-slate-800 dark:text-slate-100 mb-2">
      {title}
    </h3>
    <p class="text-gray-700 dark:text-gray-300 text-sm flex-grow mb-4">
      {description}
    </p>

    <div class="flex flex-wrap gap-3 mb-4">
      {
        tags.map((tag:any) => (
            <span class="text-xs py-1 px-3 border border-blue-500 bg-sky-100/50 dark:bg-sky-900/50 rounded-full font-medium shadow">{tag}</span>
        ))
      }
    </div>

    <div class="mt-auto flex gap-4 justify-start">
      {
        liveUrl && (
          <a
            href={liveUrl}
            target="_blank"
            class="text-blue-600 dark:text-blue-400 font-semibold hover:text-blue-800 dark:hover:text-blue-300 transition-colors flex items-center gap-1"
            aria-label={`Ver demo en vivo de ${title}`}
          >
            Demo en Vivo
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              fill="currentColor"
              class="w-4 h-4"
            >
              <path
                fill-rule="evenodd"
                d="M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-2a.75.75 0 0 1 1.5 0v2A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z"
                clip-rule="evenodd"
              />
              <path
                fill-rule="evenodd"
                d="M15.75 5.5a.75.75 0 0 0-.75.75V11a.75.75 0 0 1-1.5 0V6.75A.75.75 0 0 0 12.75 6h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0V6.25c0-.414.336-.75.75-.75Z"
                clip-rule="evenodd"
              />
            </svg>
          </a>
        )
      }
      {
        repoUrl && (
          <a
            href={repoUrl}
            target="_blank"
            class="text-gray-500 dark:text-gray-400 font-semibold hover:text-gray-700 dark:hover:text-gray-200 transition-colors flex items-center gap-1"
            aria-label={`Ver cÃ³digo fuente en GitHub de ${title}`}
          >
            Repositorio
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              fill="currentColor"
              class="w-4 h-4"
            >
              <path d="M10 0C4.477 0 0 4.477 0 10c0 4.419 2.865 8.165 6.839 9.48.5.092.682-.217.682-.482 0-.237-.008-.865-.013-1.696-2.782.603-3.369-1.34-3.369-1.34-.454-1.152-1.107-1.455-1.107-1.455-.905-.623.068-.61.068-.61 1.002.07 1.53.98 1.53.98.89 1.528 2.345 1.087 2.912.83.091-.645.35-1.087.636-1.338-2.228-.252-4.568-1.114-4.568-4.945 0-1.09.39-1.983 1.03-2.682-.103-.252-.447-1.272.098-2.65 0 0 .84-.268 2.75 1.025.798-.222 1.64-.334 2.485-.338.844.004 1.686.116 2.485.338 1.91-1.293 2.75-1.025 2.75-1.025.545 1.378.202 2.398.098 2.65.64.699 1.03 1.592 1.03 2.682 0 3.84-2.345 4.69-4.578 4.945.358.307.676.915.676 1.848 0 1.335-.012 2.417-.012 2.747 0 .267.18.577.688.484C17.135 18.165 20 14.419 20 10c0-5.523-4.477-10-10-10Z" />
            </svg>
          </a>
        )
      }
    </div>
  </div>
</article>
